"use strict";function SpiceLinkHeader(a,b){this.magic=SPICE_MAGIC,this.major_version=SPICE_VERSION_MAJOR,this.minor_version=SPICE_VERSION_MINOR,this.size=0,void 0!==a&&this.from_buffer(a,b)}function SpiceLinkMess(a,b){this.connection_id=0,this.channel_type=0,this.channel_id=0,this.common_caps=[],this.channel_caps=[],void 0!==a&&this.from_buffer(a,b)}function SpiceLinkReply(a,b){this.error=0,this.pub_key=void 0,this.common_caps=[],this.channel_caps=[],void 0!==a&&this.from_buffer(a,b)}function SpiceLinkAuthTicket(){this.auth_mechanism=0,this.encrypted_data=void 0}function SpiceLinkAuthReply(a,b){this.auth_code=0,void 0!==a&&this.from_buffer(a,b)}function SpiceMiniData(a,b){this.type=0,this.size=0,this.data=void 0,void 0!==a&&this.from_buffer(a,b)}function SpiceMsgChannels(a,b){this.num_of_channels=0,this.channels=[],void 0!==a&&this.from_buffer(a,b)}function SpiceMsgMainInit(a,b){this.from_buffer(a,b)}function SpiceMsgMainMouseMode(a,b){this.from_buffer(a,b)}function SpiceMsgSetAck(a,b){this.from_buffer(a,b)}function SpiceMsgcAckSync(a){this.generation=a.generation}function SpiceMsgcMainMouseModeRequest(a){this.mode=a}function SpiceMsgNotify(a,b){this.from_buffer(a,b)}function SpiceMsgcDisplayInit(){this.pixmap_cache_id=1,this.glz_dictionary_id=0,this.pixmap_cache_size=10485760,this.glz_dictionary_window_size=0}function SpiceMsgDisplayBase(){}function SpiceMsgDisplayDrawCopy(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayDrawFill(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayCopyBits(a,b){this.from_buffer(a,b)}function SpiceMsgSurfaceCreate(a,b){this.from_buffer(a,b)}function SpiceMsgSurfaceDestroy(a,b){this.from_buffer(a,b)}function SpiceMsgInputsInit(a,b){this.from_buffer(a,b)}function SpiceMsgInputsKeyModifiers(a,b){this.from_buffer(a,b)}function SpiceMsgCursorInit(a,b){this.from_buffer(a,b)}function SpiceMsgCursorSet(a,b){this.from_buffer(a,b)}function SpiceMsgcMousePosition(a,b){var c,d;this.display_id=0,this.buttons_state=a.buttons_state,b?(c=document.body.scrollTop||document.documentElement.scrollTop,d=document.body.scrollLeft||document.documentElement.scrollLeft,this.x=b.clientX-a.display.surfaces[a.display.primary_surface].canvas.offsetLeft+d,this.y=b.clientY-a.display.surfaces[a.display.primary_surface].canvas.offsetTop+c,a.mousex=this.x,a.mousey=this.y):this.x=this.y=this.buttons_state=0}function SpiceMsgcMouseMotion(a,b){this.display_id=0,this.buttons_state=a.buttons_state,b?(this.x=b.clientX-a.display.surfaces[a.display.primary_surface].canvas.offsetLeft,this.y=b.clientY-a.display.surfaces[a.display.primary_surface].canvas.offsetTop,void 0!==a.mousex&&(this.x-=a.mousex,this.y-=a.mousey),a.mousex=b.clientX-a.display.surfaces[a.display.primary_surface].canvas.offsetLeft,a.mousey=b.clientY-a.display.surfaces[a.display.primary_surface].canvas.offsetTop):this.x=this.y=this.buttons_state=0}function SpiceMsgcMousePress(a,b){b?(this.button=b.button+1,this.buttons_state=1<<b.button,a.buttons_state=this.buttons_state):(this.button=SPICE_MOUSE_BUTTON_LEFT,this.buttons_state=SPICE_MOUSE_BUTTON_MASK_LEFT)}function SpiceMsgcMouseRelease(a,b){b?(this.button=b.button+1,this.buttons_state=0,a.buttons_state=this.buttons_state):(this.button=SPICE_MOUSE_BUTTON_LEFT,this.buttons_state=0)}function SpiceMsgcKeyDown(a){this.code=a?keycode_to_start_scan(a.keyCode):0}function SpiceMsgcKeyUp(a){this.code=a?keycode_to_end_scan(a.keyCode):0}function SpiceMsgDisplayStreamCreate(a,b){this.from_buffer(a,b)}function SpiceStreamDataHeader(){}function SpiceMsgDisplayStreamData(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayStreamClip(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayStreamDestroy(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayInvalList(a,b){this.count=0,this.resources=[],this.from_buffer(a,b)}function SpiceMsgDisplayDrawAlphaBlend(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayDrawStroke(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayDrawText(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayDrawInvers(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayDrawTransparent(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayDrawRop3(a,b){this.from_buffer(a,b)}function SpiceMsgCursorMove(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayDrawBlackness(a,b){this.from_buffer(a,b)}function SpiceMsgDisplayDrawWhiteness(a,b){this.from_buffer(a,b)}function SpiceMsgcMainAgentStart(a){this.num_tokens=a}function VDAgentMessage(a,b){this.protocol=VD_AGENT_PROTOCOL,this.type=0,this.opaque=0,this.size=0,this.data=void 0,void 0!==a&&this.from_buffer(a,b)}function VDAgentMonitorsConfig(){this.num_of_monitors=0,this.flags=0,this.monitors=[]}function VDAgentMonConfig(){this.height=0,this.width=0,this.depth=32,this.x=0,this.y=0}function SpiceMsgMainAgentTokens(a,b){this.from_buffer(a,b)}SpiceLinkHeader.prototype={from_buffer:function(a,b){var c,d;for(b=b||0,c=new SpiceDataView(a),this.magic="",d=0;4>d;d++)this.magic+=String.fromCharCode(c.getUint8(b+d));b+=4,this.major_version=c.getUint32(b,!0),b+=4,this.minor_version=c.getUint32(b,!0),b+=4,this.size=c.getUint32(b,!0),b+=4},to_buffer:function(a,b){var c,d;for(b=b||0,c=new SpiceDataView(a),d=0;4>d;d++)c.setUint8(b+d,this.magic.charCodeAt(d));b+=4,c.setUint32(b,this.major_version,!0),b+=4,c.setUint32(b,this.minor_version,!0),b+=4,c.setUint32(b,this.size,!0),b+=4},buffer_size:function(){return 16}},SpiceLinkMess.prototype={from_buffer:function(a,b){var c,d,e,f,g,h;for(b=b||0,d=b,e=new SpiceDataView(a),this.connection_id=e.getUint32(b,!0),b+=4,this.channel_type=e.getUint8(b,!0),b++,this.channel_id=e.getUint8(b,!0),b++,f=e.getUint32(b,!0),b+=4,g=e.getUint32(b,!0),b+=4,h=e.getUint32(b,!0),b+=4,b=d+h,this.common_caps=[],c=0;f>c;c++)this.common_caps.unshift(e.getUint32(b,!0)),b+=4;for(this.channel_caps=[],c=0;g>c;c++)this.channel_caps.unshift(e.getUint32(b,!0)),b+=4},to_buffer:function(a,b){var c,d,e;for(b=b||0,c=b,e=new SpiceDataView(a),e.setUint32(b,this.connection_id,!0),b+=4,e.setUint8(b,this.channel_type,!0),b++,e.setUint8(b,this.channel_id,!0),b++,e.setUint32(b,this.common_caps.length,!0),b+=4,e.setUint32(b,this.channel_caps.length,!0),b+=4,e.setUint32(b,b-c+4,!0),b+=4,d=0;d<this.common_caps.length;d++)e.setUint32(b,this.common_caps[d],!0),b+=4;for(d=0;d<this.channel_caps.length;d++)e.setUint32(b,this.channel_caps[d],!0),b+=4},buffer_size:function(){return 18+4*this.common_caps.length+4*this.channel_caps.length}},SpiceLinkReply.prototype={from_buffer:function(a,b){var c,d,e,f,g,h;for(b=b||0,d=b,e=new SpiceDataView(a),this.error=e.getUint32(b,!0),b+=4,this.pub_key=create_rsa_from_mb(a,b),b+=SPICE_TICKET_PUBKEY_BYTES,f=e.getUint32(b,!0),b+=4,g=e.getUint32(b,!0),b+=4,h=e.getUint32(b,!0),b+=4,b=d+h,this.common_caps=[],c=0;f>c;c++)this.common_caps.unshift(e.getUint32(b,!0)),b+=4;for(this.channel_caps=[],c=0;g>c;c++)this.channel_caps.unshift(e.getUint32(b,!0)),b+=4}},SpiceLinkAuthTicket.prototype={to_buffer:function(a,b){var c,d;for(b=b||0,d=new SpiceDataView(a),d.setUint32(b,this.auth_mechanism,!0),b+=4,c=0;SPICE_TICKET_KEY_PAIR_LENGTH/8>c;c++)this.encrypted_data&&c<this.encrypted_data.length?d.setUint8(b,this.encrypted_data[c],!0):d.setUint8(b,0,!0),b++},buffer_size:function(){return 4+SPICE_TICKET_KEY_PAIR_LENGTH/8}},SpiceLinkAuthReply.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);this.auth_code=c.getUint32(b,!0),b+=4},buffer_size:function(){return 4}},SpiceMiniData.prototype={from_buffer:function(a,b){b=b||0;var d=new SpiceDataView(a);this.type=d.getUint16(b,!0),b+=2,this.size=d.getUint32(b,!0),b+=4,a.byteLength>b&&(this.data=a.slice(b),b+=this.data.byteLength)},to_buffer:function(a,b){var c,d,e;if(b=b||0,d=new SpiceDataView(a),d.setUint16(b,this.type,!0),b+=2,d.setUint32(b,this.data?this.data.byteLength:0,!0),b+=4,this.data&&this.data.byteLength>0)for(e=new Uint8Array(this.data),c=0;c<e.length;c++,b++)d.setUint8(b,e[c],!0)},build_msg:function(a,b){this.type=a,this.size=b.buffer_size(),this.data=new ArrayBuffer(this.size),b.to_buffer(this.data)},buffer_size:function(){return this.data?6+this.data.byteLength:6}},SpiceMsgChannels.prototype={from_buffer:function(a,b){var c,d,e;for(b=b||0,d=new SpiceDataView(a),this.num_of_channels=d.getUint32(b,!0),b+=4,c=0;c<this.num_of_channels;c++)e=new SpiceChannelId,b=e.from_dv(d,b,a),this.channels.push(e)}},SpiceMsgMainInit.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);this.session_id=c.getUint32(b,!0),b+=4,this.display_channels_hint=c.getUint32(b,!0),b+=4,this.supported_mouse_modes=c.getUint32(b,!0),b+=4,this.current_mouse_mode=c.getUint32(b,!0),b+=4,this.agent_connected=c.getUint32(b,!0),b+=4,this.agent_tokens=c.getUint32(b,!0),b+=4,this.multi_media_time=c.getUint32(b,!0),b+=4,this.ram_hint=c.getUint32(b,!0),b+=4}},SpiceMsgMainMouseMode.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);this.supported_modes=c.getUint16(b,!0),b+=2,this.current_mode=c.getUint16(b,!0),b+=2}},SpiceMsgSetAck.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);this.generation=c.getUint32(b,!0),b+=4,this.window=c.getUint32(b,!0),b+=4}},SpiceMsgcAckSync.prototype={to_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);c.setUint32(b,this.generation,!0),b+=4},buffer_size:function(){return 4}},SpiceMsgcMainMouseModeRequest.prototype={to_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);c.setUint16(b,this.mode,!0),b+=2},buffer_size:function(){return 2}},SpiceMsgNotify.prototype={from_buffer:function(a,b){var c,d,e;for(b=b||0,d=new SpiceDataView(a),this.time_stamp=d.getUint64(b,!0),b+=8,this.severity=d.getUint32(b,!0),b+=4,this.visibility=d.getUint32(b,!0),b+=4,this.what=d.getUint32(b,!0),b+=4,this.message_len=d.getUint32(b,!0),b+=4,this.message="",c=0;c<this.message_len;c++)e=d.getUint8(b,!0),b++,this.message+=String.fromCharCode(e)}},SpiceMsgcDisplayInit.prototype={to_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);c.setUint8(b,this.pixmap_cache_id,!0),b++,c.setUint64(b,this.pixmap_cache_size,!0),b+=8,c.setUint8(b,this.glz_dictionary_id,!0),b++,c.setUint32(b,this.glz_dictionary_window_size,!0),b+=4},buffer_size:function(){return 14}},SpiceMsgDisplayBase.prototype={from_dv:function(a,b,c){return this.surface_id=a.getUint32(b,!0),b+=4,this.box=new SpiceRect,b=this.box.from_dv(a,b,c),this.clip=new SpiceClip,this.clip.from_dv(a,b,c)}},SpiceMsgDisplayDrawCopy.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.base=new SpiceMsgDisplayBase,b=this.base.from_dv(c,b,a),this.data=new SpiceCopy,this.data.from_dv(c,b,a)}},SpiceMsgDisplayDrawFill.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.base=new SpiceMsgDisplayBase,b=this.base.from_dv(c,b,a),this.data=new SpiceFill,this.data.from_dv(c,b,a)}},SpiceMsgDisplayCopyBits.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.base=new SpiceMsgDisplayBase,b=this.base.from_dv(c,b,a),this.src_pos=new SpicePoint,this.src_pos.from_dv(c,b,a)}},SpiceMsgSurfaceCreate.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.surface=new SpiceSurface,this.surface.from_dv(c,b,a)}},SpiceMsgSurfaceDestroy.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);this.surface_id=c.getUint32(b,!0),b+=4}},SpiceMsgInputsInit.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.keyboard_modifiers=c.getUint16(b,!0),b+=2}},SpiceMsgInputsKeyModifiers.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.keyboard_modifiers=c.getUint16(b,!0),b+=2}},SpiceMsgCursorInit.prototype={from_buffer:function(a,b,c){b=b||0;var d=new SpiceDataView(a);return this.position=new SpicePoint16,b=this.position.from_dv(d,b,c),this.trail_length=d.getUint16(b,!0),b+=2,this.trail_frequency=d.getUint16(b,!0),b+=2,this.visible=d.getUint8(b,!0),b++,this.cursor=new SpiceCursor,this.cursor.from_dv(d,b,a)}},SpiceMsgCursorSet.prototype={from_buffer:function(a,b,c){b=b||0;var d=new SpiceDataView(a);return this.position=new SpicePoint16,b=this.position.from_dv(d,b,c),this.visible=d.getUint8(b,!0),b++,this.cursor=new SpiceCursor,this.cursor.from_dv(d,b,a)}},SpiceMsgcMousePosition.prototype={to_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return c.setUint32(b,this.x,!0),b+=4,c.setUint32(b,this.y,!0),b+=4,c.setUint16(b,this.buttons_state,!0),b+=2,c.setUint8(b,this.display_id,!0),b+=1},buffer_size:function(){return 11}},SpiceMsgcMouseMotion.prototype.to_buffer=SpiceMsgcMousePosition.prototype.to_buffer,SpiceMsgcMouseMotion.prototype.buffer_size=SpiceMsgcMousePosition.prototype.buffer_size,SpiceMsgcMousePress.prototype={to_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return c.setUint8(b,this.button,!0),b++,c.setUint16(b,this.buttons_state,!0),b+=2},buffer_size:function(){return 3}},SpiceMsgcMouseRelease.prototype.to_buffer=SpiceMsgcMousePress.prototype.to_buffer,SpiceMsgcMouseRelease.prototype.buffer_size=SpiceMsgcMousePress.prototype.buffer_size,SpiceMsgcKeyDown.prototype={to_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return c.setUint32(b,this.code,!0),b+=4},buffer_size:function(){return 4}},SpiceMsgcKeyUp.prototype.to_buffer=SpiceMsgcKeyDown.prototype.to_buffer,SpiceMsgcKeyUp.prototype.buffer_size=SpiceMsgcKeyDown.prototype.buffer_size,SpiceMsgDisplayStreamCreate.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);this.surface_id=c.getUint32(b,!0),b+=4,this.id=c.getUint32(b,!0),b+=4,this.flags=c.getUint8(b,!0),b+=1,this.codec_type=c.getUint8(b,!0),b+=1,this.stamp=c.getUint64(b,!0),b+=8,this.stream_width=c.getUint32(b,!0),b+=4,this.stream_height=c.getUint32(b,!0),b+=4,this.src_width=c.getUint32(b,!0),b+=4,this.src_height=c.getUint32(b,!0),b+=4,this.dest=new SpiceRect,b=this.dest.from_dv(c,b,a),this.clip=new SpiceClip,this.clip.from_dv(c,b,a)}},SpiceStreamDataHeader.prototype={from_dv:function(a,b){return this.id=a.getUint32(b,!0),b+=4,this.multi_media_time=a.getUint32(b,!0),b+=4}},SpiceMsgDisplayStreamData.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);this.base=new SpiceStreamDataHeader,b=this.base.from_dv(c,b,a),this.data_size=c.getUint32(b,!0),b+=4,this.data=c.u8.subarray(b,b+this.data_size)}},SpiceMsgDisplayStreamClip.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);this.id=c.getUint32(b,!0),b+=4,this.clip=new SpiceClip,this.clip.from_dv(c,b,a)}},SpiceMsgDisplayStreamDestroy.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);this.id=c.getUint32(b,!0),b+=4}},SpiceMsgDisplayInvalList.prototype={from_buffer:function(a,b){var c,d;for(b=b||0,d=new SpiceDataView(a),this.count=d.getUint16(b,!0),b+=2,c=0;c<this.count;c++)this.resources[c]={},this.resources[c].type=d.getUint8(b,!0),b++,this.resources[c].id=d.getUint64(b,!0),b+=8}},SpiceMsgDisplayDrawAlphaBlend.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.base=new SpiceMsgDisplayBase,b=this.base.from_dv(c,b,a),this.data=new SpiceAlphaBlend,this.data.from_dv(c,b,a)}},SpiceMsgDisplayDrawStroke.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.base=new SpiceMsgDisplayBase,b=this.base.from_dv(c,b,a),this.data=new SpiceStroke,this.data.from_dv(c,b,a)}},SpiceMsgDisplayDrawText.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.base=new SpiceMsgDisplayBase,b=this.base.from_dv(c,b,a),this.data=new SpiceText,b=this.data.from_dv(c,b,a)}},SpiceMsgDisplayDrawInvers.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.base=new SpiceMsgDisplayBase,b=this.base.from_dv(c,b,a),this.data=new SpiceInvers,b=this.data.from_dv(c,b,a)}},SpiceMsgDisplayDrawTransparent.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.base=new SpiceMsgDisplayBase,b=this.base.from_dv(c,b,a),this.data=new SpiceTransparent,b=this.data.from_dv(c,b,a)}},SpiceMsgDisplayDrawRop3.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);return this.base=new SpiceMsgDisplayBase,b=this.base.from_dv(c,b,a),this.data=new SpiceRop3,b=this.data.from_dv(c,b,a)}},SpiceMsgCursorMove.prototype={from_buffer:function(a,b,c){b=b||0;var d=new SpiceDataView(a);return this.position=new SpicePoint16,this.position.from_dv(d,b,c)}},SpiceMsgDisplayDrawBlackness.prototype={from_buffer:function(a,b){b=b||0;var d=new SpiceDataView(a);return this.base=new SpiceMsgDisplayBase,b=this.base.from_dv(d,b,a),this.data=new SpiceBlackness,b=this.data.from_dv(d,b,a)}},SpiceMsgDisplayDrawWhiteness.prototype={from_buffer:function(a,b){b=b||0;var d=new SpiceDataView(a);return this.base=new SpiceMsgDisplayBase,b=this.base.from_dv(d,b,a),this.data=new SpiceWhiteness,b=this.data.from_dv(d,b,a)}},SpiceMsgcMainAgentStart.prototype={to_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);c.setUint32(b,this.num_tokens,!0),b+=4},buffer_size:function(){return 4}},VDAgentMessage.prototype={from_buffer:function(a,b){b=b||0;var d=new SpiceDataView(a);this.protocol=d.getUint32(b,!0),b+=4,this.type=d.getUint32(b,!0),b+=4,this.opaque=d.getUint64(b,!0),b+=8,this.size=d.getUint32(b,!0),b+=4,a.byteLength>b&&(this.data=a.slice(b),b+=this.data.byteLength)},to_buffer:function(a,b){var c,d,e;if(b=b||0,c=new SpiceDataView(a),c.setUint32(b,this.protocol,!0),b+=4,c.setUint32(b,this.type,!0),b+=4,c.setUint64(b,this.opaque,!0),b+=8,c.setUint32(b,this.data?this.data.byteLength:0,!0),b+=4,this.data&&this.data.byteLength>0)for(e=new Uint8Array(this.data),d=0;d<e.length;d++,b++)c.setUint8(b,e[d],!0)},build_msg:function(a,b,c,d){void 0!=c&&(this.protocol=c),void 0!=b&&(this.type=b),void 0!=d&&(this.opaque=d),this.size=a.buffer_size(),this.data=new ArrayBuffer(this.size),a.to_buffer(this.data)},buffer_size:function(){return 20+this.data.byteLength}},VDAgentMonitorsConfig.prototype={from_dv:function(a,b,c){var d;for(this.num_of_monitors=a.getUint32(b,!0),b+=4,this.flags=a.getUint32(b,!0),b+=4,this.num_of_monitors>0&&(this.monitors=[]),d=0;d<this.num_of_monitors;d++)this.rects[d]=new VDAgentMonConfig,b=this.rects[d].from_dv(a,b,c);return b},to_buffer:function(a,b){var c,d,e,f,g;if(b=b||0,c=new SpiceDataView(a),c.setUint32(b,this.num_of_monitors,!0),b+=4,c.setUint32(b,this.flags,!0),b+=4,this.num_of_monitors&&this.num_of_monitors>0)for(d=0;d<this.num_of_monitors;d++)for(e=new ArrayBuffer(this.monitors[d].buffer_size()),this.monitors[d].to_buffer(e),f=new Uint8Array(e),g=0;g<f.length;g++,b++)c.setUint8(b,f[g],!0)},buffer_size:function(){return 8+20*this.num_of_monitors}},VDAgentMonConfig.prototype={to_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);c.setUint32(b,this.height,!0),b+=4,c.setUint32(b,this.width,!0),b+=4,c.setUint32(b,this.depth,!0),b+=4,c.setUint32(b,this.x,!0),b+=4,c.setUint32(b,this.y,!0),b+=4},buffer_size:function(){return 20}},SpiceMsgMainAgentTokens.prototype={from_buffer:function(a,b){b=b||0;var c=new SpiceDataView(a);this.num_tokens=c.getUint32(b,!0),b+=4}};